// ======================= VARIABLES =======================
$bg-dark: #0a0a0a;
// Colores consola
$console-body: #7a4f9e;
$console-dark: #5d3879;
$console-darker: #4b2a63;
$console-accent: #d4b5e8;
$console-frame: #3d3d3d; // Marco gris oscuro

$screen-bg: #9fa49f;
$screen-border: #2a2a2a;
$screen-lcd: #8b9f7f; 
$screen-glow: #d4f1f4;
$pixel-shadow: rgba(0, 0, 0, 0.3);

$violet-light: #e8daef;
$violet: #7d3c98;
$violet-dark: #512e5f;


$kawaii-pink: #ffb3d9;
$kawaii-yellow: #fff4b3;
$kawaii-blue: #b3e5fc;
$button-red: #ff6b9d;
$button-blue: #6ba8ff;

$pixel-font: "Pixelify Sans", sans-serif;
$main-font: "Jacquard 12", sans-serif;

// ======================= RESET =======================
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 62.5%;
}

body {
  font-family: $main-font;
  font-size: 1.6rem;
  background: $bg-dark;
  background-image: 
    radial-gradient(circle at 20% 50%, rgba(155, 89, 182, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(142, 68, 173, 0.08) 0%, transparent 50%);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100dvh;
  overflow-x: hidden;
  padding: 2rem 1rem;
}

// ======================= CONSOLA =======================
.tamagotchi {
  background: linear-gradient(145deg, $console-body 0%, $console-dark 100%);
  padding: 2rem 2rem 3rem;
  border-radius: 2.5rem 2.5rem 4.5rem 4.5rem;
  border: 10px solid $console-darker;
  box-shadow: 
    0 0 0 4px $console-accent,
    0 12px 24px rgba(0, 0, 0, 0.5),
    0 24px 48px rgba(0, 0, 0, 0.3),
    inset 0 -6px 12px rgba(0, 0, 0, 0.25),
    inset 0 3px 6px rgba(255, 255, 255, 0.15);
  position: relative;
  max-width: 36rem;
  width: 100%;
  
  // Decoraciones
  &::before,
  &::after {
    content: '';
    position: absolute;
    width: 14px;
    height: 14px;
    background: radial-gradient(circle, #5a5a5a 30%, #2c2c2c 100%);
    border-radius: 50%;
    box-shadow: 
      inset 0 1px 3px rgba(0, 0, 0, 0.7),
      0 1px 2px rgba(255, 255, 255, 0.3);
    z-index: 10;
  }
  
  &::before {
    top: 18px;
    left: 18px;
  }
  
  &::after {
    top: 18px;
    right: 18px;
  }

  // Logo 
  .tamagotchi__logo {
    position: absolute;
    top: 4.5rem;
    left: 50%;
    transform: translateX(-50%);
    font-family: $main-font;
    font-size: 1.8rem;
    color: $console-darker;
    text-shadow: 1px 1px 0 rgba(255, 255, 255, 0.5);
    letter-spacing: 2px;
    font-weight: bold;
  }

  // LED 
  .tamagotchi__led {
    position: absolute;
    top: 1.2rem;
    left: 50%;
    transform: translateX(-50%);
    width: 10px;
    height: 10px;
    background: radial-gradient(circle, #ff4444, #cc0000);
    border-radius: 50%;
    box-shadow: 
      0 0 8px rgba(255, 68, 68, 0.8),
      inset 0 1px 2px rgba(255, 255, 255, 0.3);
    animation: ledBlink 2s ease-in-out infinite;
  }

  // ======================= MARCO GRIS OSCURO =======================
  &__frame {
    background: $console-frame;
    border-radius: 1.8rem;
    padding: 2rem 1.8rem 2.5rem;
    margin-top: 5rem;
    box-shadow: 
      inset 0 3px 8px rgba(0, 0, 0, 0.6),
      inset 0 -1px 3px rgba(255, 255, 255, 0.1);
    position: relative;
    
    &::before {
      content: 'BATMAGOTCHI';
      position: absolute;
      top: -3.5rem;
      left: 50%;
      transform: translateX(-50%);
      font-family: $pixel-font;
      font-size: 1rem;
      color: $console-darker;
      font-weight: 700;
      letter-spacing: 2px;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }
  }

  // ======================= BOTONES =======================
  &__audio-control {
    position: absolute;
    top: 5.8rem;
    left: 2.2rem;
    background: linear-gradient(145deg, #4a4a4a, #2a2a2a);
    border: 2px solid #1a1a1a;
    color: #00ff00;
    font-size: 1.4rem;
    cursor: pointer;
    transition: all 0.2s ease;
    z-index: 20;
    padding: 0.6rem 0.8rem;
    border-radius: 0.5rem;
    box-shadow: 
      0 0 0 1px #5a5a5a,
      0 2px 4px rgba(0, 0, 0, 0.5),
      inset 0 1px 2px rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3.2rem;
    height: 3.2rem;

    &:hover {
      background: linear-gradient(145deg, #5a5a5a, #3a3a3a);
      color: #00ff66;
      transform: translateY(-1px);
      box-shadow: 
        0 0 0 1px #6a6a6a,
        0 3px 6px rgba(0, 0, 0, 0.6),
        inset 0 1px 2px rgba(255, 255, 255, 0.15),
        0 0 10px rgba(0, 255, 0, 0.3);
    }

    &:active {
      transform: translateY(1px);
      box-shadow: 
        0 0 0 1px #5a5a5a,
        0 1px 2px rgba(0, 0, 0, 0.4),
        inset 0 1px 3px rgba(0, 0, 0, 0.5);
    }
    
    i {
      filter: drop-shadow(0 0 3px rgba(0, 255, 0, 0.5));
    }
  }

  // Botones SELECT y RESET 
  &__system-buttons {
    position: absolute;
    bottom: 5.5rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 2rem;
    z-index: 5;
  }

  &__system-button {
    font-family: $pixel-font;
    font-size: 0.9rem;
    background: linear-gradient(145deg, #4a4a4a, #2a2a2a);
    color: #c0c0c0;
    border: 2px solid #1a1a1a;
    padding: 0.4rem 1rem;
    cursor: pointer;
    border-radius: 1.5rem;
    box-shadow: 
      0 0 0 1px #5a5a5a,
      0 2px 0 0 #0a0a0a,
      inset 0 1px 2px rgba(255, 255, 255, 0.1);
    transition: all 0.1s ease;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;

    &:hover {
      background: linear-gradient(145deg, #5a5a5a, #3a3a3a);
      transform: translateY(-1px);
      color: #e0e0e0;
    }

    &:active {
      transform: translateY(1px);
      box-shadow: 
        0 0 0 1px #5a5a5a,
        0 1px 0 0 #0a0a0a,
        inset 0 1px 2px rgba(0, 0, 0, 0.5);
    }
  }

  // ======================= LCD SCREEN =======================
  &__screen {
    background: #2a2a2a; // Fondo oscuro base
    border: 8px solid $screen-border;
    border-radius: 1rem;
    box-shadow: 
      inset 0 0 0 4px #3a3a3a,
      inset 0 6px 12px rgba(0, 0, 0, 0.7),
      inset 0 0 30px rgba(0, 0, 0, 0.5),
      0 0 0 2px $console-frame,
      0 3px 6px rgba(0, 0, 0, 0.3);
    width: 100%;
    padding: 2rem 2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
    position: relative;
    overflow: hidden;
    
    // Overlay LCD verde-amarillento que cubre todo
    &::before {
      content: '';
      position: absolute;
      inset: 0;
      background: $screen-lcd;
      mix-blend-mode: multiply;
      opacity: 0.85;
      pointer-events: none;
      z-index: 10;
    }
    
    // LCD glow effect
    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 40%;
      background: linear-gradient(
        to bottom,
        rgba(200, 220, 180, 0.15),
        transparent
      );
      pointer-events: none;
      z-index: 11;
    }
  }
  
  // Contenedor para los elementos internos de la pantalla
  &__screen-content {
    position: relative;
    z-index: 5;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
  }
  
  // Scan lines effect (nueva capa)
  &__screen-scanlines {
    position: absolute;
    inset: 0;
    background: 
      repeating-linear-gradient(
        0deg,
        transparent 0px,
        rgba(0, 0, 0, 0.06) 1px,
        transparent 2px
      ),
      repeating-linear-gradient(
        90deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.02) 2px,
        rgba(0, 0, 0, 0.02) 4px
      );
    pointer-events: none;
    animation: scanlines 8s linear infinite;
    z-index: 12;
  }

  // ======================= CORAZONES =======================
  &__hearts {
    display: flex;
    gap: 0.8rem;
    padding: 0.5rem;
    position: relative;
    z-index: 2;
  }

  &__heart {
    width: 32px;
    height: 32px;
    background-image: url("/images/Full-heart.png");
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    image-rendering: pixelated;
    filter: 
      brightness(1.3) 
      contrast(1.2) 
      drop-shadow(0 1px 1px rgba(0, 0, 0, 0.4));
    transition: all 0.3s ease;
  }

  .heart--full {
    background-image: url("/images/Full-heart.png");
    animation: heartbeat 2s ease-in-out infinite;
  }

  .heart--half {
    background-image: url("/images/Half-heart.png");
  }

  .heart--empty {
    background-image: url("/images/Empty-heart.png");
    opacity: 0.6;
  }

  .heart--anim {
    animation: heartPop 0.3s ease-out;
  }

  // ======================= PET =======================
  &__pet {
    width: 14rem;
    height: 14rem;
    position: relative;
    z-index: 2;
  }

  &__pet-image {
    width: 100%;
    height: 100%;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    image-rendering: pixelated;
    filter: 
      brightness(1.3) 
      contrast(1.2) 
      drop-shadow(0 2px 3px rgba(0, 0, 0, 0.4));
  }

  .bat--normal { background-image: url("/images/Happy-bat.gif"); }
  .bat--sad { background-image: url("/images/Sad-bat.gif"); }
  .bat--hungry { background-image: url("/images/Hungry-bat.gif"); }
  .bat--dead { background-image: url("/images/Dead-bat.gif"); }
  .bat--eating { 
    background-image: url("/images/Eating-bat.gif");
    animation: eat 1.69s linear;
  }
  .bat--love { background-image: url("/images/Love-this-food.gif"); }
  .bat--no { background-image: url("/images/No-bat.gif"); }
  .bat--paused { background-image: url("/images/Sleeping-bat.gif"); }

  // ======================= BOTONES DE COMIDA =======================
  &__foods {
    display: flex;
    gap: 1.2rem;
    padding: 1rem;
    background: rgba(20, 20, 20, 0.5);
    border-radius: 1.2rem;
    position: relative;
    z-index: 2;
    opacity: 0;
    transform: translateY(10px);
    pointer-events: none;
    transition: all 0.3s ease;
    backdrop-filter: blur(2px);

    &--visible {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }
  }

  &__food-button {
    width: 68px;
    height: 68px;
    background: linear-gradient(145deg, #f5f5f5, #e0e0e0);
    border: 4px solid #c0c0c0;
    border-radius: 1.2rem;
    padding: 0.8rem;
    cursor: pointer;
    box-shadow: 
      0 0 0 2px #d8d8d8,
      0 4px 0 0 #5a5a5a,
      0 4px 8px rgba(0, 0, 0, 0.3);
    transition: all 0.1s ease;
    position: relative;

    &::before {
      content: '';
      position: absolute;
      inset: 4px;
      background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.3),
        transparent
      );
      border-radius: 0.6rem;
      pointer-events: none;
    }

    &:hover {
      transform: scale(1.05) translateY(-2px);
      box-shadow: 
        0 0 0 2px #e8e8e8,
        0 6px 0 0 #5a5a5a,
        0 6px 12px rgba(0, 0, 0, 0.4),
        0 0 20px rgba(255, 255, 255, 0.5);
    }

    &:active {
      transform: scale(0.98) translateY(2px);
      box-shadow: 
        0 0 0 2px #d8d8d8,
        0 2px 0 0 #5a5a5a,
        0 2px 4px rgba(0, 0, 0, 0.3);
    }

    &--selected {
      border-color: #ffffff;
      box-shadow: 
        0 0 0 3px #ffffff,
        0 4px 0 0 #5a5a5a,
        0 4px 8px rgba(0, 0, 0, 0.3),
        0 0 20px rgba(255, 255, 255, 0.8);
      animation: pulse 1s ease-in-out infinite;
    }
  }

  &__food-image {
    width: 100%;
    height: 100%;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    image-rendering: pixelated;
    filter: 
      brightness(1.2) 
      contrast(1.15) 
      drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
  }

  .garlic { background-image: url("/images/Garlic.png"); }
  .melon { background-image: url("/images/Melon.png"); }
  .moth { background-image: url("/images/Moth.png"); }

  // ======================= D-PAD & BUTTONS =======================
  &__controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 1rem 0;
    margin-top: 1.5rem;
  }

  &__dpad {
    position: relative;
    width: 90px;
    height: 90px;
  }

  &__dpad-btn {
    position: absolute;
    width: 30px;
    height: 30px;
    background: linear-gradient(145deg, #4a4a4a, #2a2a2a);
    border: 2px solid #1a1a1a;
    box-shadow: 
      0 2px 0 0 #0a0a0a,
      inset 0 1px 2px rgba(255, 255, 255, 0.1);
    cursor: pointer;
    transition: all 0.1s ease;
    
    &:hover {
      background: linear-gradient(145deg, #5a5a5a, #3a3a3a);
      transform: translateY(-1px);
    }

    &:active {
      transform: translateY(2px);
      box-shadow: 
        0 1px 0 0 #0a0a0a,
        inset 0 1px 2px rgba(0, 0, 0, 0.5);
    }

    &--up {
      top: 0;
      left: 30px;
      border-radius: 0.5rem 0.5rem 0 0;
    }
    
    &--right {
      top: 30px;
      right: 0;
      border-radius: 0 0.5rem 0.5rem 0;
    }
    
    &--down {
      bottom: 0;
      left: 30px;
      border-radius: 0 0 0.5rem 0.5rem;
    }
    
    &--left {
      top: 30px;
      left: 0;
      border-radius: 0.5rem 0 0 0.5rem;
    }
    
    &--center {
      top: 30px;
      left: 30px;
      background: linear-gradient(145deg, #3a3a3a, #1a1a1a);
      border-radius: 0;
      cursor: default;
      pointer-events: none;
    }
  }

  &__action-buttons {
    display: flex;
    gap: 1.5rem;
    align-items: center;
    position: relative;
  }

  &__action-btn {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    border: 3px solid;
    cursor: pointer;
    box-shadow: 
      0 4px 0 0 rgba(0, 0, 0, 0.3),
      inset 0 2px 4px rgba(255, 255, 255, 0.3);
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: $pixel-font;
    font-size: 1.4rem;
    font-weight: bold;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    transition: all 0.1s ease;
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: 
        0 6px 0 0 rgba(0, 0, 0, 0.3),
        inset 0 2px 4px rgba(255, 255, 255, 0.4);
    }

    &:active {
      transform: translateY(2px);
      box-shadow: 
        0 2px 0 0 rgba(0, 0, 0, 0.3),
        inset 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    &--a {
      background: linear-gradient(145deg, $button-red, darken($button-red, 15%));
      border-color: darken($button-red, 20%);
    }
    
    &--b {
      background: linear-gradient(145deg, $button-blue, darken($button-blue, 15%));
      border-color: darken($button-blue, 20%);
    }
  }

  // ======================= SPEAKER GRILLS =======================
  &__speaker {
    position: absolute;
    bottom: 1.5rem;
    right: 2rem;
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 4px;
    
    &-dot {
      width: 6px;
      height: 6px;
      background: darken($console-darker, 10%);
      border-radius: 50%;
      box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.5);
    }
  }
}

// ======================= INTRO SCREEN =======================
.intro {
  position: fixed;
  inset: 0;
  background: 
    radial-gradient(circle at 30% 40%, rgba(232, 196, 240, 0.2), transparent 60%),
    radial-gradient(circle at 70% 70%, rgba(212, 165, 221, 0.15), transparent 60%),
    #000;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
  animation: intro-slide-down 1.2s ease-out forwards;
  padding: 2rem;

  &__content {
    background: linear-gradient(145deg, #1a1a2e, #16213e);
    border: 6px solid $violet;
    border-radius: 2rem;
    padding: 2.5rem 2rem;
    width: 90%;
    max-width: 36rem;
    box-shadow: 
      0 0 0 3px $violet-dark,
      0 0 30px rgba(125, 60, 152, 0.5),
      0 20px 40px rgba(0, 0, 0, 0.6);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
    text-align: center;
    position: relative;
    
    &::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 1.4rem;
      background: linear-gradient(
        135deg,
        rgba(232, 218, 239, 0.1),
        transparent
      );
      pointer-events: none;
    }
  }

  &__image {
    width: 100%;
    max-width: 28rem;
    aspect-ratio: 16 / 9;
    background-image: url("/images/Landing.png");
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    image-rendering: pixelated;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
  }

  &__title {
    font-size: 2.8rem;
    color: $violet-light;
    text-shadow: 
      2px 2px 0 $violet-dark,
      4px 4px 8px rgba(0, 0, 0, 0.5),
      0 0 20px rgba(125, 60, 152, 0.4);
    letter-spacing: 0.5px;
  }

  &__text {
    font-family: $pixel-font;
    font-size: 1.5rem;
    line-height: 1.6;
    color: #bdc3c7;
    max-width: 32ch;
  }

  &__button {
    font-family: $pixel-font;
    font-size: 1.6rem;
    padding: 1.2rem 2.4rem;
    background: linear-gradient(145deg, $violet, $violet-dark);
    color: white;
    border: 4px solid $violet-dark;
    border-radius: 1rem;
    cursor: pointer;
    box-shadow: 
      0 0 0 2px $console-accent,
      0 6px 0 0 #3d2954,
      0 6px 12px rgba(0, 0, 0, 0.4);
    transition: all 0.15s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 600;

    &:hover {
      background: linear-gradient(145deg, #8e44ad, $violet);
      transform: translateY(-2px);
      box-shadow: 
        0 0 0 2px $console-accent,
        0 8px 0 0 #3d2954,
        0 8px 16px rgba(0, 0, 0, 0.5),
        0 0 20px rgba(142, 68, 173, 0.4);
    }

    &:active {
      transform: translateY(2px);
      box-shadow: 
        0 0 0 2px $console-accent,
        0 4px 0 0 #3d2954,
        0 4px 8px rgba(0, 0, 0, 0.4);
    }
  }
}

.intro--closing {
  animation: intro-slide-up 1.5s ease-in forwards;
}

// ======================= GAME OVER SCREEN =======================
.gameover {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.95);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 200;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
  padding: 2rem;

  &--visible {
    opacity: 1;
    pointer-events: auto;
  }

  &__content {
    background: linear-gradient(145deg, #1a1a2e, #16213e);
    border: 6px solid #ff4444;
    border-radius: 2rem;
    padding: 2.5rem 2rem;
    width: 90%;
    max-width: 36rem;
    box-shadow: 
      0 0 0 3px #aa0000,
      0 0 30px rgba(255, 68, 68, 0.5),
      0 20px 40px rgba(0, 0, 0, 0.6);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
    text-align: center;
    position: relative;
    animation: shake 0.5s ease;
    
    &::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 1.4rem;
      background: linear-gradient(
        135deg,
        rgba(255, 68, 68, 0.1),
        transparent
      );
      pointer-events: none;
    }
  }

  &__title {
    font-size: 3.2rem;
    color: #ff6b6b;
    text-shadow: 
      2px 2px 0 #aa0000,
      4px 4px 8px rgba(0, 0, 0, 0.5),
      0 0 20px rgba(255, 68, 68, 0.6);
    letter-spacing: 2px;
    animation: pulse-glow 2s ease-in-out infinite;
  }

  &__text {
    font-family: $pixel-font;
    font-size: 1.5rem;
    line-height: 1.6;
    color: #bdc3c7;
    max-width: 28ch;
  }

  &__button {
    font-family: $pixel-font;
    font-size: 1.6rem;
    padding: 1.2rem 2.4rem;
    background: linear-gradient(145deg, #ff6b6b, #cc0000);
    color: white;
    border: 4px solid #aa0000;
    border-radius: 1rem;
    cursor: pointer;
    box-shadow: 
      0 0 0 2px #ffaaaa,
      0 6px 0 0 #660000,
      0 6px 12px rgba(0, 0, 0, 0.4);
    transition: all 0.15s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-weight: 600;

    &:hover {
      background: linear-gradient(145deg, #ff8888, #dd0000);
      transform: translateY(-2px);
      box-shadow: 
        0 0 0 2px #ffaaaa,
        0 8px 0 0 #660000,
        0 8px 16px rgba(0, 0, 0, 0.5),
        0 0 20px rgba(255, 68, 68, 0.6);
    }

    &:active {
      transform: translateY(2px);
      box-shadow: 
        0 0 0 2px #ffaaaa,
        0 4px 0 0 #660000,
        0 4px 8px rgba(0, 0, 0, 0.4);
    }
  }
}

// ======================= ANIMACIONES =======================
@keyframes intro-slide-down {
  from {
    transform: translateY(-100dvh);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes intro-slide-up {
  from {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  to {
    transform: translateY(-100dvh) scale(0.8);
    opacity: 0;
  }
}

@keyframes scanlines {
  0% { transform: translateY(0); }
  100% { transform: translateY(4px); }
}

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes heartPop {
  0% { 
    transform: scale(1);
    opacity: 1;
  }
  50% { 
    transform: scale(0.7);
    opacity: 0.5;
  }
  100% { 
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes eat {
  from { opacity: 1; }
  to { opacity: 1; }
}

@keyframes ledBlink {
  0%, 100% { 
    opacity: 1;
    box-shadow: 0 0 8px rgba(255, 68, 68, 0.8);
  }
  50% { 
    opacity: 0.3;
    box-shadow: 0 0 4px rgba(255, 68, 68, 0.4);
  }
}

.bat--love,
.bat--no {
  animation: dummy 2s linear;
}

@keyframes dummy {
  from { opacity: 1; }
  to { opacity: 1; }
}

@keyframes pulse {
  0%, 100% { 
    transform: scale(1);
  }
  50% { 
    transform: scale(1.05);
  }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

@keyframes pulse-glow {
  0%, 100% { 
    text-shadow: 
      2px 2px 0 #aa0000,
      4px 4px 8px rgba(0, 0, 0, 0.5),
      0 0 20px rgba(255, 68, 68, 0.6);
  }
  50% { 
    text-shadow: 
      2px 2px 0 #aa0000,
      4px 4px 8px rgba(0, 0, 0, 0.5),
      0 0 30px rgba(255, 68, 68, 0.9);
  }
}

// ======================= RESPONSIVE =======================
@media (min-width: 480px) {
  .tamagotchi {
    max-width: 40rem;
    padding: 2rem 2rem 4.5rem;
    
    &__frame {
      padding: 2.2rem 2rem 2.8rem;
    }
    
    &__screen {
      padding: 2.2rem 2.5rem;
      gap: 1.8rem;
    }
    
    &__heart {
      width: 36px;
      height: 36px;
    }
    
    &__pet {
      width: 16rem;
      height: 16rem;
    }
    
    &__food-button {
      width: 75px;
      height: 75px;
    }

    &__dpad {
      width: 100px;
      height: 100px;
    }

    &__action-btn {
      width: 50px;
      height: 50px;
      font-size: 1.6rem;
    }
    
    &__audio-control {
      width: 3.5rem;
      height: 3.5rem;
      font-size: 1.5rem;
    }
  }
}

@media (min-width: 768px) {
  .tamagotchi {
    max-width: 45rem;
    padding: 2.5rem 2.5rem 5rem;
    border-width: 12px;

    &::before,
    &::after {
      width: 16px;
      height: 16px;
    }

    &__frame {
      padding: 2.5rem 2.2rem 3rem;
    }

    &__screen {
      padding: 2.5rem 3rem;
      gap: 2rem;
      border-width: 10px;
    }

    &__hearts {
      gap: 1rem;
    }

    &__heart {
      width: 40px;
      height: 40px;
    }

    &__pet {
      width: 18rem;
      height: 18rem;
    }

    &__foods {
      gap: 1.5rem;
      padding: 1.2rem;
    }

    &__food-button {
      width: 85px;
      height: 85px;
      border-width: 5px;
    }

    &__start-button,
    &__pause-button {
      font-size: 1.4rem;
      padding: 1rem 1.6rem;
    }

    &__dpad {
      width: 110px;
      height: 110px;
    }

    &__dpad-btn {
      width: 36px;
      height: 36px;
      
      &--up { left: 37px; }
      &--down { left: 37px; }
      &--center { top: 37px; left: 37px; }
      &--left { top: 37px; }
      &--right { top: 37px; }
    }

    &__action-btn {
      width: 55px;
      height: 55px;
      font-size: 1.8rem;
    }
    
    &__audio-control {
      width: 3.8rem;
      height: 3.8rem;
      font-size: 1.6rem;
    }
  }

  .intro {
    &__content {
      max-width: 75rem;
      padding: 3rem;
      flex-direction: row;
      text-align: left;
      gap: 3rem;
    }

    &__image {
      flex-shrink: 0;
      width: 45%;
      max-width: 40rem;
    }

    &__body {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      justify-content: center;
    }

    &__title {
      font-size: 3.6rem;
    }

    &__text {
      font-size: 1.7rem;
      max-width: 40ch;
    }
  }
  
  .gameover {
    &__content {
      max-width: 42rem;
      padding: 3rem;
    }

    &__title {
      font-size: 3.6rem;
    }

    &__text {
      font-size: 1.7rem;
    }
  }
}

@media (min-width: 1024px) {
  .tamagotchi {
    max-width: 52rem;
    padding: 3rem 3rem 5.5rem;

    &__frame {
      padding: 3rem 2.5rem 3.5rem;
    }

    &__screen {
      padding: 3rem 3.5rem;
      gap: 2.5rem;
    }

    &__heart {
      width: 48px;
      height: 48px;
    }

    &__pet {
      width: 20rem;
      height: 20rem;
    }

    &__foods {
      gap: 2rem;
    }

    &__food-button {
      width: 95px;
      height: 95px;
    }

    &__start-button,
    &__pause-button {
      font-size: 1.6rem;
      padding: 1.2rem 2rem;
    }

    &__dpad {
      width: 120px;
      height: 120px;
    }

    &__dpad-btn {
      width: 40px;
      height: 40px;
      
      &--up { left: 40px; }
      &--down { left: 40px; }
      &--center { top: 40px; left: 40px; }
      &--left { top: 40px; }
      &--right { top: 40px; }
    }

    &__action-btn {
      width: 60px;
      height: 60px;
      font-size: 2rem;
    }
    
    &__audio-control {
      width: 4rem;
      height: 4rem;
      font-size: 1.7rem;
    }
  }

  .intro {
    &__content {
      max-width: 90rem;
      padding: 4rem 5rem;
      gap: 4rem;
    }

    &__image {
      width: 50%;
      max-width: 48rem;
    }

    &__title {
      font-size: 4.2rem;
    }

    &__text {
      font-size: 1.9rem;
      max-width: 45ch;
    }

    &__button {
      font-size: 1.8rem;
      padding: 1.4rem 3rem;
    }
  }
  
  .gameover {
    &__content {
      max-width: 48rem;
      padding: 4rem;
    }

    &__title {
      font-size: 4.2rem;
    }

    &__text {
      font-size: 1.9rem;
    }

    &__button {
      font-size: 1.8rem;
      padding: 1.4rem 3rem;
    }
  }
}

@media (min-width: 1440px) {
  .tamagotchi {
    max-width: 60rem;
    padding: 3.5rem 3.5rem 6rem;

    &::before,
    &::after {
      width: 18px;
      height: 18px;
    }

    &__frame {
      padding: 3.5rem 3rem 4rem;
    }

    &__screen {
      padding: 3.5rem 4rem;
      gap: 3rem;
    }

    &__hearts {
      gap: 1.2rem;
    }

    &__heart {
      width: 56px;
      height: 56px;
    }

    &__pet {
      width: 22rem;
      height: 22rem;
    }

    &__foods {
      gap: 2.5rem;
      padding: 1.5rem;
    }

    &__food-button {
      width: 110px;
      height: 110px;
    }

    &__start-button,
    &__pause-button {
      font-size: 1.8rem;
      padding: 1.4rem 2.4rem;
    }

    &__dpad {
      width: 130px;
      height: 130px;
    }

    &__dpad-btn {
      width: 43px;
      height: 43px;
      
      &--up { left: 43.5px; }
      &--down { left: 43.5px; }
      &--center { top: 43.5px; left: 43.5px; }
      &--left { top: 43.5px; }
      &--right { top: 43.5px; }
    }

    &__action-btn {
      width: 65px;
      height: 65px;
      font-size: 2.2rem;
      gap: 2rem;
    }
    
    &__audio-control {
      width: 4.2rem;
      height: 4.2rem;
      font-size: 1.8rem;
    }
  }

  .intro {
    &__content {
      max-width: 110rem;
      padding: 5rem 6rem;
    }

    &__image {
      max-width: 54rem;
    }

    &__title {
      font-size: 4.8rem;
    }

    &__text {
      font-size: 2.1rem;
      max-width: 48ch;
    }
  }
  
  .gameover {
    &__content {
      max-width: 52rem;
      padding: 5rem;
    }

    &__title {
      font-size: 4.8rem;
    }

    &__text {
      font-size: 2.1rem;
    }
  }
}

// ======================= ACCESIBILIDAD =======================
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}